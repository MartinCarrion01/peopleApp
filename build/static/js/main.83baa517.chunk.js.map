{"version":3,"sources":["components/Header.js","components/Person.js","components/People.js","components/PersonForm.js","services/PersonService.js","styles/NotificationStyles.js","components/Notification.js","components/FilterBar.js","components/App.js","index.js"],"names":["Header","text","Person","person","deleter","name","number","onClick","People","people","map","id","PersonForm","onSubmit","newName","onNameChange","newNumber","onNumberChange","value","onChange","type","url","PersonService","getAll","a","axios","get","response","data","save","object","post","delete","update","put","NotificationStyles","ok","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","fail","Notification","message","style","FilterBar","filter","filterHandler","App","useState","setPeople","setNewName","setNewNumber","setFilter","setMessage","setStyle","fetchPeople","personService","initialPeople","useEffect","peopleToShow","messageSetter","setTimeout","personDeleter","personToDelete","find","window","confirm","result","console","log","event","target","preventDefault","reset","buff","newBuff","then","updatedPerson","notStyles","newPerson","savedPerson","concat","catch","err","error","trim","toLowerCase","includes","length","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.83baa517.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Header = ({ text }) => {\r\n  return <h1>{text}</h1>;\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nconst Person = ({ person, deleter }) => {\r\n  return (\r\n    <div>\r\n      <p>\r\n        {person.name} {person.number}\r\n      </p>\r\n      <button onClick={deleter}>Delete</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst People = ({ people, deleter }) => {\r\n  return (\r\n    <div>\r\n      {people.map((person) => (\r\n        <Person\r\n          person={person}\r\n          key={person.number}\r\n          deleter={() => deleter(person.id)}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default People;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  onSubmit,\r\n  newName,\r\n  onNameChange,\r\n  newNumber,\r\n  onNumberChange,\r\n}) => {\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <label>Name: </label>\r\n      <input value={newName} onChange={onNameChange} />\r\n      <br />\r\n      <label>Phone-number</label>\r\n      <input value={newNumber} onChange={onNumberChange} />\r\n      <br />\r\n      <button type=\"submit\">Save</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import axios from \"axios\";\r\n\r\nconst url = \"/api/people\";\r\n\r\nconst PersonService = {\r\n  getAll: async () => {\r\n    const response = await axios.get(url);\r\n    return response.data;\r\n  },\r\n  save: async (object) => {\r\n    const response = await axios.post(url, object);\r\n    return response.data;\r\n  },\r\n  delete: async (id) => {\r\n    const response = await axios.delete(`${url}/${id}`);\r\n    return response;\r\n  },\r\n  update: async (id, object) => {\r\n    const response = await axios.put(`${url}/${id}`, object);\r\n    return response.data;\r\n  },\r\n};\r\n\r\nexport default PersonService;\r\n","const NotificationStyles = {\r\n  ok: {\r\n    color: \"green\",\r\n    background: \"lightgrey\",\r\n    fontSize: 20,\r\n    borderStyle: \"solid\",\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  },\r\n  fail: {\r\n    color: \"red\",\r\n    background: \"lightgrey\",\r\n    fontSize: 20,\r\n    borderStyle: \"solid\",\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  },\r\n};\r\n\r\nexport default NotificationStyles;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, style }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  return <div style={style}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React from \"react\";\r\n\r\nconst FilterBar = ({ filter, filterHandler }) => {\r\n  return (\r\n    <div>\r\n      <input value={filter} onChange={filterHandler} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterBar;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Header from \"./Header\";\r\nimport People from \"./People\";\r\nimport PersonForm from \"./PersonForm\";\r\nimport personService from \"../services/PersonService\";\r\nimport notStyles from \"../styles/NotificationStyles\";\r\nimport Notification from \"./Notification\";\r\nimport FilterBar from \"./FilterBar\";\r\n\r\nconst App = () => {\r\n  const [people, setPeople] = useState([]);\r\n  const [newName, setNewName] = useState(\"type a new name\");\r\n  const [newNumber, setNewNumber] = useState(\"type new number\");\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [message, setMessage] = useState(null);\r\n  const [style, setStyle] = useState({});\r\n\r\n  const fetchPeople = async () => {\r\n    const initialPeople = await personService.getAll();\r\n    setPeople(initialPeople);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPeople();\r\n  }, []);\r\n\r\n  const messageSetter = (message, style) => {\r\n    setMessage(message);\r\n    setStyle(style);\r\n    setTimeout(() => {\r\n      setMessage(null);\r\n      setStyle({});\r\n    }, 5000);\r\n  };\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n    const reset = () => {\r\n      setNewName(\"type a new name\");\r\n      setNewNumber(\"type new number\");\r\n    };\r\n    const buff = people.find((person) => person.name === newName);\r\n    if (buff) {\r\n      if (\r\n        window.confirm(\r\n          `${buff.name} has already been added to the phonebook, do you want to replace the old number by the new number?`\r\n        )\r\n      ) {\r\n        const newBuff = { ...buff, number: newNumber };\r\n        personService.update(newBuff.id, newBuff).then((updatedPerson) => {\r\n          setPeople(\r\n            people.map((person) =>\r\n              person.id !== newBuff.id ? person : updatedPerson\r\n            )\r\n          );\r\n          messageSetter(\r\n            `${updatedPerson.name}'s number updated succesfully`,\r\n            notStyles.ok\r\n          );\r\n        });\r\n      }\r\n      reset();\r\n      return;\r\n    }\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newNumber,\r\n    };\r\n    personService\r\n      .save(newPerson)\r\n      .then((savedPerson) => {\r\n        setPeople(people.concat(savedPerson));\r\n        reset();\r\n        messageSetter(\r\n          `${savedPerson.name} has been added succesfully`,\r\n          notStyles.ok\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"error responde deata\", err.response.data);\r\n        messageSetter(err.response.data.error, notStyles.fail);\r\n        reset();\r\n      });\r\n  };\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value);\r\n  };\r\n\r\n  let peopleToShow;\r\n\r\n  const filterByName = () => {\r\n    if (filter.trim() !== \"\") {\r\n      peopleToShow = people.filter((person) =>\r\n        person.name.toLowerCase().includes(filter.toLowerCase())\r\n      );\r\n      if (peopleToShow.length !== 0) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      peopleToShow = people;\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const personDeleter = async (id) => {\r\n    const personToDelete = people.find((person) => person.id === id);\r\n    if (\r\n      window.confirm(`Do you really want to delete ${personToDelete.name}?`)\r\n    ) {\r\n      const result = await personService.delete(id);\r\n      console.log(\"result\", result);\r\n      setPeople(people.filter((person) => person.id !== id));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Header text=\"Phonebook\" />\r\n      <FilterBar filter={filter} filterHandler={handleFilterChange} />\r\n      <Notification message={message} style={style} />\r\n      <PersonForm\r\n        onSubmit={addPerson}\r\n        newName={newName}\r\n        onNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        onNumberChange={handleNumberChange}\r\n      />\r\n      <Header text=\"Numbers\" />\r\n      {filterByName() ? (\r\n        <People people={peopleToShow} deleter={personDeleter} />\r\n      ) : (\r\n        \"Not found\"\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}