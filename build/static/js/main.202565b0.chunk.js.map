{"version":3,"sources":["components/Header.js","components/Person.js","components/People.js","components/PersonForm.js","services/PersonService.js","styles/NotificationStyles.js","components/Notification.js","components/App.js","index.js"],"names":["Header","text","Person","person","deleter","name","number","onClick","People","people","map","id","PersonForm","onSubmit","newName","onNameChange","newNumber","onNumberChange","value","onChange","type","url","PersonService","getAll","a","axios","get","response","data","save","object","post","delete","update","put","NotificationStyles","ok","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","fail","Notification","message","style","App","useState","setPeople","setNewName","setNewNumber","filter","setFilter","setMessage","setStyle","fetchPeople","personService","initialPeople","useEffect","peopleToShow","messageSetter","setTimeout","addPerson","event","preventDefault","reset","buff","find","window","confirm","newBuff","updatedPerson","notStyles","newPerson","createdPerson","concat","personDeleter","personToDelete","result","console","log","target","trim","toLowerCase","includes","length","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.202565b0.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Header = ({ text }) => {\r\n  return <h1>{text}</h1>;\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nconst Person = ({ person, deleter }) => {\r\n  return (\r\n    <div>\r\n      <p>\r\n        {person.name} {person.number}\r\n      </p>\r\n      <button onClick={deleter}>Delete</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst People = ({ people, deleter }) => {\r\n  return (\r\n    <div>\r\n      {people.map((person) => (\r\n        <Person\r\n          person={person}\r\n          key={person.number}\r\n          deleter={() => deleter(person.id)}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default People;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  onSubmit,\r\n  newName,\r\n  onNameChange,\r\n  newNumber,\r\n  onNumberChange,\r\n}) => {\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <label>Name: </label>\r\n      <input value={newName} onChange={onNameChange} />\r\n      <br />\r\n      <label>Phone-number</label>\r\n      <input value={newNumber} onChange={onNumberChange} />\r\n      <br />\r\n      <button type=\"submit\">Save</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import axios from \"axios\";\r\n\r\nconst url = \"/api/people\";\r\n\r\nconst PersonService = {\r\n  getAll: async () => {\r\n    const response = await axios.get(url);\r\n    return response.data;\r\n  },\r\n  save: async (object) => {\r\n    const response = await axios.post(url, object);\r\n    return response.data;\r\n  },\r\n  delete: async (id) => {\r\n    const response = await axios.delete(`${url}/${id}`);\r\n    return response;\r\n  },\r\n  update: async (id, object) => {\r\n    const response = await axios.put(`${url}/${id}`, object);\r\n    return response.data;\r\n  },\r\n};\r\n\r\nexport default PersonService;\r\n","const NotificationStyles = {\r\n  ok: {\r\n    color: \"green\",\r\n    background: \"lightgrey\",\r\n    fontSize: 20,\r\n    borderStyle: \"solid\",\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  },\r\n  fail: {\r\n    color: \"red\",\r\n    background: \"lightgrey\",\r\n    fontSize: 20,\r\n    borderStyle: \"solid\",\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  },\r\n};\r\n\r\nexport default NotificationStyles;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, style }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  return <div style={style}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Header from \"./Header\";\r\nimport People from \"./People\";\r\nimport PersonForm from \"./PersonForm\";\r\nimport personService from \"../services/PersonService\";\r\nimport notStyles from \"../styles/NotificationStyles\";\r\nimport Notification from \"./Notification\";\r\n\r\nconst App = () => {\r\n  const [people, setPeople] = useState([]);\r\n  const [newName, setNewName] = useState(\"type a new name\");\r\n  const [newNumber, setNewNumber] = useState(\"type new number\");\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [message, setMessage] = useState(null);\r\n  const [style, setStyle] = useState({});\r\n\r\n  const fetchPeople = async () => {\r\n    const initialPeople = await personService.getAll();\r\n    setPeople(initialPeople);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPeople();\r\n  }, []);\r\n\r\n  const messageSetter = (message, style) => {\r\n    setMessage(message);\r\n    setStyle(style);\r\n    setTimeout(() => {\r\n      setMessage(null);\r\n      setStyle({});\r\n    }, 5000);\r\n  };\r\n\r\n  const addPerson = async (event) => {\r\n    event.preventDefault();\r\n    const reset = () => {\r\n      setNewName(\"type a new name\");\r\n      setNewNumber(\"type new number\");\r\n    };\r\n    const buff = people.find((person) => person.name === newName);\r\n    if (buff) {\r\n      if (\r\n        window.confirm(\r\n          `${buff.name} has already been added to the phonebook, do you want to replace the old number by the new number?`\r\n        )\r\n      ) {\r\n        const newBuff = { ...buff, number: newNumber };\r\n        const updatedPerson = await personService.update(newBuff.id, newBuff);\r\n        setPeople(\r\n          people.map((person) =>\r\n            person.id !== newBuff.id ? person : updatedPerson\r\n          )\r\n        );\r\n        messageSetter(`${updatedPerson.name}'s number updated succesfully`, notStyles.ok)\r\n      }\r\n      reset();\r\n      return;\r\n    }\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newNumber,\r\n    };\r\n    const createdPerson = await personService.save(newPerson);\r\n    setPeople(people.concat(createdPerson));\r\n    reset();\r\n    messageSetter(\r\n      `${createdPerson.name} has been added succesfully`,\r\n      notStyles.ok\r\n    );\r\n  };\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value);\r\n  };\r\n\r\n  let peopleToShow;\r\n\r\n  const filterByName = () => {\r\n    if (filter.trim() !== \"\") {\r\n      peopleToShow = people.filter((person) =>\r\n        person.name.toLowerCase().includes(filter.toLowerCase())\r\n      );\r\n      if (peopleToShow.length !== 0) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      peopleToShow = people;\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const personDeleter = async (id) => {\r\n    const personToDelete = people.find((person) => person.id === id);\r\n    if (\r\n      window.confirm(`Do you really want to delete ${personToDelete.name}?`)\r\n    ) {\r\n      const result = await personService.delete(id);\r\n      console.log(\"result\", result);\r\n      setPeople(people.filter((person) => person.id !== id));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Header text=\"Phonebook\" />\r\n      <input value={filter} onChange={handleFilterChange} />\r\n      <Notification message={message} style={style} />\r\n      <PersonForm\r\n        onSubmit={addPerson}\r\n        newName={newName}\r\n        onNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        onNumberChange={handleNumberChange}\r\n      />\r\n      <Header text=\"Numbers\" />\r\n      {filterByName() ? (\r\n        <People people={peopleToShow} deleter={personDeleter} />\r\n      ) : (\r\n        \"Not found\"\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}